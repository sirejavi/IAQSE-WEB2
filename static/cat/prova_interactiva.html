<!DOCTYPE html>
<html lang="ca">

    <head>
          <meta charset="iso-8859-1">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
  <meta name="description" content="Institut d'avaluació i qualitat del sistema educatiu">
  <meta name="author" content="iaqse@iaqse.caib.es">
	<meta name="language" content="cat">
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">

	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	<meta name="robots" content="index,follow">
	<meta name="document-classification" content="Education">
	<meta name="document-type" content="Public">
	<meta name="document-rating" content="Safe for Kids">
	  
	<link rel="icon" href="../css/img/favicon.ico" type="image/x-icon">
	<link rel="shortcut icon" type="image/x-icon" href="../css/img/favicon.ico">	 
	 

  <title>IAQSE</title>
  <link href="iaqse_bundle.min.css" rel="stylesheet">
  <link href="../css/assets/fontawesome/css/all.min.css" rel="stylesheet">
  <link href="../css/assets/katex/katex.min.css" rel="stylesheet">
  <script src="iaqse_bundle1.min.js"></script> 
  

<script>window.addCssLink=function(t){var e=document.createElement("link");e.rel="stylesheet",e.type="text/css",e.href=t,document.getElementsByTagName("head")[0].appendChild(e)},window.chunker=function(t,e){for(var i=[],n=0,o=t.length;n<o;n+=e)i.push(t.slice(n,n+e));return i},window.getURLParameter=function(t){var e=new RegExp("[\\?&]"+t+"=([^&#]*)"),i=e.exec(window.location.search);return null==i&&(i=e.exec(window.location.href)),null==i?"":decodeURIComponent(i[1].replace(/\+/g," "))},window.app=angular.module("iaqse",["ngRoute","ngSanitize","ngAnimate"]),app.config(["$sceProvider",function(t){t.enabled(!1)}]),window.app.directive("a",["httpService",function(o){return{restrict:"E",link:function(t,e,n){e.on("click",function(t){if(null!=n.href){var e=n.href;e.startsWith("#")&&(e=location.href.split("#")[0]+e);var i=n.tipus;"none"!=i&&o.hit(e,i)}return!0})}}}]),app.service("geolocation",["$q",function(t){var i=null,n={timeout:5e3},e={getCurrentPosition:function(){var e=t.defer();return null!=i?e.resolve(i):navigator.geolocation?navigator.geolocation.getCurrentPosition(function(t){i={latitude:t.coords.latitude,longitude:t.coords.longitude},e.resolve(i)},function(){e.reject()},n):(i={},e.resolve(i)),e.promise}};return e}]),app.service("httpService",["$http","geolocation",function(o,t){return{loadSchema:function(t){return o({method:"get",url:"database/"+t+".json",dataType:"json",contentType:"application/json; charset=iso-8859-1"})},isAuthenticated:function(t){return o.post("https://piworld.es/iaqseapi/authenticate",{sessionId:t})},login:function(t,e){return o.post("https://piworld.es/iaqseapi/login",{username:t,password:e})},logout:function(t){return o.post("https://piworld.es/iaqseapi/priv/logout",{sessionId:t})},listTipus:function(t){return o.post("https://piworld.es/iaqseapi/priv/document/tipus/list",{sessionId:t})},listDocumentsTipus:function(t,e){return o.post("https://piworld.es/iaqseapi/priv/document/list",{tipus:e,sessionId:t})},listDocumentVisitCount:function(t,e){return o.post("https://piworld.es/iaqseapi/priv/visit/list",{tipus:e,sessionId:t})},visitTimeline:function(t,e,i,n){return o.post("https://piworld.es/iaqseapi/priv/visit/timeline",{url:e,sqlDate1:i,sqlDate2:n,sessionId:t})},loadVisualizations:function(t,e,t){return o.post("https://piworld.es/iaqseapi/priv/visit/history",{url:e,sessionId:t})},geolocations:function(t){return o.post("https://piworld.es/iaqseapi/priv/visit/geolocations",{sessionId:t})},hit:function(i,n){t.getCurrentPosition().then(function(t){var e={url:i,tipus:n,coords:t};o.post("https://piworld.es/iaqseapi/visit/hit",e)},function(t){var e={url:i,tipus:n};o.post("https://piworld.es/iaqseapi/visit/hit",e)})}}}]),window.app.filter("fileName",function(){return function(t){var e=t.lastIndexOf("/");return t.substring(e+1)}}),window.app.filter("icona",function(){return function(t){var e=t.substring(t.lastIndexOf(".")+1).trim().toLowerCase();return"word"==e?"fa-file-word":"zip"==e||"rar"==e?"fa-file-archive":"pdf"==e?"fa-file-pdf":"mp4"==e||"avi"==e||"mov"==e||"qt"==e?"fa-file-video":"mp3"==e||"ogg"==e?"fa-file-audio":"fa-file"}}),window.app.config(["$controllerProvider","$provide","$compileProvider","$filterProvider",function(i,n,o,s){app._controller=app.controller,app._service=app.service,app._filter=app.filter,app._component=app.component,app._factory=app.factory,app._value=app.value,app._directive=app.directive,app.controller=function(t,e){return i.register(t,e),this},app.service=function(t,e){return n.service(t,e),this},app.factory=function(t,e){return n.factory(t,e),this},app.value=function(t,e){return n.value(t,e),this},app.filter=function(t,e){return s.register(t,e),this},app.component=function(t,e){return o.component(t,e),this},app.directive=function(t,e){return o.directive(t,e),this}}]),app.component("loginWidget",{restrict:"E",transclude:!0,template:'<div ng-if="$ctrl.status.authenticated==false">Usuari: <input type="text" ng-model="$ctrl.username"/><br>Contrasenya: <input type="password" ng-model="$ctrl.password" ng-keyup="$event.keyCode == 13 && $ctrl.login()"/><button class="btn btn-sm btn-secondary" style="margin-top:5px" ng-click="$ctrl.login()"><i class="fas fa-sign-in-alt"></i> Entrar</button></div><div ng-if="$ctrl.status.authenticated"><center><span ng-bind="$ctrl.status.fullname"></span></center><center><a href="admin_console.html">Consola d\'administració</a><button class="btn btn-sm btn-secondary" style="margin-top:5px" ng-click="$ctrl.logout()"><i class="fas fa-sign-out-alt"></i> Sortir</button></center></div>',controller:["$rootScope","httpService",function(e,i){var n=this;n.username="",n.password="",n.status={};function o(){n.status.authenticated=!1}n.login=function(){i.login(n.username,n.password).then(function(t){n.status=t.data,t.data.authenticated&&(localStorage.setItem("iaqse-sessionId",t.data.sessionId),e.$broadcast("iaqse-sessionId",t.data.sessionId))},o),n.username="",n.password=""},n.logout=function(){var t=localStorage.getItem("iaqse-sessionId");t&&i.logout(t).then(function(t){},o),n.status={authenticated:!1},localStorage.removeItem("iaqse-sessionId"),e.$broadcast("iaqse-sessionId","")};var s=localStorage.getItem("iaqse-sessionId");s?i.isAuthenticated(s).then(function(t){n.status=t.data,n.status.authenticated&&e.$broadcast("iaqse-sessionId",s)},o):n.status.authenticated=!1}]})</script>
    </head>

    <body style="background:#fff"> 
        <header>
              <nav class="navbar navbar-expand-md navbar-dark fixed-top gradient" style="background-color:#036!important">
    <div class="container">
      <a class="navbar-brand" href="index.html">
        <img src="../img/svg/qiaqse2.png" style="height:25px">
        <span><b class="d-md-none d-xl-inline" style="color:#ff4646;font-family:Arial,Helvetica,sans-serif;vertical-align:top">IAQSE</b></span>
      </a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          
          <li class="nav-item">
            <a class="nav-link" href="index.html" title="">Inici
            </a>
          </li>
          
          <li class="nav-item">
            <a class="nav-link" href="quisom.html" title="">Qui som
            </a>
          </li>
          
          <li class="nav-item">
            <a class="nav-link" href="avaluacions.html" title="">Avaluacions
            </a>
          </li>
          
          <li class="nav-item">
            <a class="nav-link" href="publicacions.html" title="">Publicacions
            </a>
          </li>
          
          <li class="nav-item">
            <a class="nav-link" href="indicadors.html" title="">Indicadors
            </a>
          </li>
          
          <li class="nav-item">
            <a class="nav-link" href="proves.html" title="Proves alliberades">Proves alliberades
            </a>
          </li>
          
          <li class="nav-item">
            <a class="nav-link" href="enllacos.html" title="">Enllaços
            </a>
          </li>
          
        </ul>
      </div>
    </div>
  </nav>
  
        </header>

        <div id="main-wrap" class="container-fluid">
                <main ng-app="iaqse">
                
<nav aria-label="breadcrumb">
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="index.html"><i class="fas fa-home"></i></a></li> 
          <li class="breadcrumb-item active"> Prova interactiva </li>  
        </ol>
        </nav>
        <div ng-controller="mainController">
        
        <div class="modal fade" id="analyticsModal" tabindex="-1" role="dialog" aria-labelledby="analyticsModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-lg" role="document">
                        <div class="modal-content">
                                <div class="modal-header">
                                        <h5 class="modal-title" id="analyticsModalLabel">Visites</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                <span aria-hidden="true">&times;</span>
                                        </button>
                                </div>
                                <div class="modal-body" style="height:500px;overflow-y:auto">
                                        <p>Aquest document s'ha visitat en total <span ng-bind="modalVisualizations.length"></span> vegades</p>
                                        <table class="table table-bordered">
                                                <thead>
                                                        <th>Data</th>
                                                        <th>IP</th>
                                                        <th>Long.</th>
                                                        <th>Lat.</th>
                                                        <th>Municipi</th>
                                                </thead>
                                                <tbody>
                                                        <tr ng-repeat="visit in modalVisualizations">
                                                                <td><span ng-bind="visit.FECHA"></span></td>
                                                                <td><span ng-bind="visit.IP"></span></td>
                                                                <td><span ng-bind="visit.LONGITUDE"></span></td>
                                                                <td><span ng-bind="visit.LATITUDE"></span></td>
                                                                <td><span ng-bind="visit.CITY"></span></td>
                                                        </tr>
                                                </tbody>
                                        </table>
                                        
                                </div>
                                <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Tancar</button>
                                </div>
                        </div>
                </div>
        </div>

        
        
        <a href="proves.html#!/interactives" style="float:right" class="btn btn-sm btn-warning"><i class="fa fa-times"></i>
                Tancau la prova</a>
        <div id="mainController">
                <span style="font-size:105%" class="badge badge-secondary badge-cursor" ng-bind="doc.hits" title="{{doc.hits_title}}" data-toggle="modal" data-target="#analyticsModal"></span>

                <iaqse-prova prova="prova" ng-if="prova!=null"></iaqse-prova>

                <div ng-if="mostraError" class="alert alert-danger">
                        <h5>:-( S'ha produït un error</h5>
                        <p>No s'ha trobat la prova amb identificador id={{id}}</p>
                        <a href="proves.html#!/interactives" class="btn btn-sm btn-warning">Tornau a proves</a>
                </div>
        </div>
</div>
<script>var shuffleArray=function(e){var t,r,n;for(n=e.length-1;0<n;n--)t=Math.floor(Math.random()*(n+1)),r=e[n],e[n]=e[t],e[t]=r;return e};app.component("iaqseProva",{templateUrl:"iaqse-prova.html",bindings:{prova:"<"},controller:function(){var l=this;l.indexEstimul=0,l.indexPregunta=0,l.numEstimuls=0,l.numPreguntes=0,l.$onChanges=function(e){l.reset()},l.backEstimul=function(){return 0<l.indexEstimul&&(l.indexEstimul--,l.estimulSelected=l.prova.estimuls[l.indexEstimul],l.indexPregunta=0,l.preguntaSelected=l.estimulSelected.preguntes[l.indexPregunta],!0)},l.nextEstimul=function(){return l.indexEstimul<l.prova.estimuls.length-1&&(l.indexEstimul++,l.estimulSelected=l.prova.estimuls[l.indexEstimul],l.indexPregunta=0,l.preguntaSelected=l.estimulSelected.preguntes[l.indexPregunta],!0)},l.backPregunta=function(){0<l.indexPregunta?(l.indexPregunta--,l.preguntaSelected=l.estimulSelected.preguntes[l.indexPregunta]):l.backEstimul()&&(l.indexPregunta=l.estimulSelected.preguntes.length-1,l.preguntaSelected=l.estimulSelected.preguntes[l.indexPregunta])},l.nextPregunta=function(){l.indexPregunta<l.estimulSelected.preguntes.length-1?(l.indexPregunta++,l.preguntaSelected=l.estimulSelected.preguntes[l.indexPregunta]):l.nextEstimul(0)},l.gotoPregunta=function(e,t){l.indexEstimul=e,l.indexPregunta=t,l.estimulSelected=l.prova.estimuls[e],l.preguntaSelected=l.estimulSelected.preguntes[t]},l.gotoPreguntaReview=function(e,t){l.estimulReview=l.prova.estimuls[e],l.preguntaReview=l.estimulReview.preguntes[t]},l.styleClassPregunta=function(e){var t="btn-secondary";return null!=e.answer&&(t="btn-primary",null!=e.esCorrecta&&(t=e.esCorrecta?"btn-success":"btn-danger")),t},l.reset=function(){var e=l.prova;if(l.estatProva=0,l.progressPercent=0,e){l.numEstimuls=e.estimuls.length,l.indexEstimul=0,l.indexPregunta=0,l.estimulSelected=e.estimuls[l.indexEstimul],l.preguntaSelected=l.estimulSelected.preguntes[l.indexPregunta];for(var t=1,r=0,n=e.estimuls.length;r<n;r++)for(var a=e.estimuls[r],i=0,s=a.preguntes.length;i<s;i++){var o=a.preguntes[i];if(o.numero=t,t++,o.answer=null,o.esCorrecta=null,o.opcions){var u=o.opcions[o.ordre-1];o.opcions=shuffleArray(o.opcions),o.ordre=o.opcions.indexOf(u)}}l.numPreguntes=t-1}},l.updateProgress=function(){for(var e=0,t=0,r=l.prova.estimuls.length;t<r;t++)for(var n=l.prova.estimuls[t],a=0,i=n.preguntes.length;a<i;a++){var s=n.preguntes[a];null!=s.answer&&("number"==typeof s.answer||"string"==typeof s.answer&&0<s.answer.trim().length)&&e++}l.progressPercent=0===e?0:(100*e/l.numPreguntes).toFixed(0)},l.corregirProva=function(){for(var e=0,t=0,r=l.prova.estimuls.length;t<r;t++)for(var n=l.prova.estimuls[t],a=0,i=n.preguntes.length;a<i;a++){var s=n.preguntes[a];if(null!=s.answer){if(null!=s.opcions)s.esCorrecta=s.ordre==s.answer;else if(null!=s.tolerance)try{var o=parseFloat(s.answer.replace(",","."));s.esCorrecta=Math.abs(o-s.ordre)<=s.tolerance}catch(e){s.esCorrecta=!1}else s.esCorrecta=s.ordre==s.answer;s.esCorrecta&&e++}}l.estatProva=2,l.estimulReview=null,l.preguntaReview=null,l.puntuacio=(100*e/l.numPreguntes).toFixed(0)}}}),app.component("iaqseEstimul",{templateUrl:"iaqse-estimul.html",bindings:{estimul:"<",question:"<"},require:{provaCtrl:"^^iaqseProva"},controller:["$rootScope",function(t){var r=this;this.$onChanges=function(e){r.preguntaSelected=this.question,r.numPreguntes=r.provaCtrl.numPreguntes,r.estatProva=r.provaCtrl.estatProva,t.$emit("katex-update")},this.check=function(){r.provaCtrl.corregirProva()},r.updateProgress=function(){r.provaCtrl.updateProgress()}}]}),app.component("iaqsePregunta",{templateUrl:"iaqse-pregunta.html",bindings:{pregunta:"<"},require:{estimulCtrl:"^^iaqseEstimul"},controller:["$rootScope",function(t){var r=this;r.$onChanges=function(e){r.numPreguntes=r.estimulCtrl.numPreguntes,r.estatProva=r.estimulCtrl.estatProva,t.$emit("katex-update")},r.updateProgress=function(){r.estimulCtrl.updateProgress()}}]}),app.controller("mainController",["$scope","$rootScope","httpService",function(l,r,i){i.hit(location.href.replace("?","-"),"PAGE"),l.prova=null;var s=getURLParameter("id"),c=getURLParameter("lang");(l.id=s)?i.loadSchema("proves_interactives").then(function(e){proves=e.data;var o=null;try{s=parseInt(s)}catch(e){}if(0<s&&s<=proves.length&&(o=proves[s-1]),null==o)l.mostraError=!0;else if(o.contingut){var t="";if("string"==typeof o.contingut)t=o.contingut;else if(Array.isArray(o.contingut)&&c)for(var r=0,n=o.contingut.length;r<n;r++){var a=o.contingut[r];if(a.lang==c){t=a.file;break}}else l.mostraError=!0;var u='src="../proves_interactives/'+t+"/";i.loadSchema(t).then(function(e){o.estimuls=e.data;for(var t=0,r=o.estimuls.length;t<r;t++){var n=o.estimuls[t];Array.isArray(n.estimul_body)&&(n.estimul_body=n.estimul_body.join(" ")),n.estimul_body=n.estimul_body.replace(/src=\"/gi,u);for(var a=0,i=n.preguntes.length;a<i;a++){var s=n.preguntes[a];Array.isArray(s.enunciat)&&(s.enunciat=s.enunciat.join(" ")),s.enunciat=s.enunciat.replace(/src=\"/gi,u)}}l.prova=o},function(e){console.log("Hi ha hagut un problema carregant la definició de la prova. Prova corrupta!: "+e),l.mostraError=!0})}}):l.mostraError=!0,$(function(){var e=$("#mainController")[0],t={delimiters:[{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}]};r.$on("katex-update",function(){renderMathInElement(e,t)})}),l.doc={},r.$on("iaqse-sessionId",function(e,t){l.sessionId=t,l.loadVisualizations()}),l.loadVisualizations=function(){var e=location.href.replace("?","-");i.loadVisualizations(l.sessionId,e).then(function(e){l.modalVisualizations=e.data,l.doc.hits=e.data.length,e.data.length&&(l.doc.hits_title="Darrer accés "+e.data[0].FECHA)},function(){l.modalVisualizations=[]})},l.sessionId=localStorage.getItem("iaqse-sessionId"),l.loadVisualizations()}]),app.filter("toLetter",function(){return function(e){return String.fromCharCode(65+e)+") "}})</script>

<script type="text/ng-template" id="iaqse-prova.html">

        <h4 ng-bind-html="$ctrl.prova.title"></h4>

        <!--mostra les instruccions-->
        <div ng-if="$ctrl.estatProva==0">
                <center><h5 style="font-weight:800; color:white; background: brown;">Instruccions</h5></center>
                <div style="margin:20px; border:1px solid gray; background:#f2dbda;padding:20px;font-size:110%">
                        <div ng-bind-html="$ctrl.prova.instruccions"></div>
                </div>
 
                <div style="margin:auto; text-align:center;">
                <button class="btn btn-primary" ng-click="$ctrl.estatProva=1;"><i class="fa fa-arrow-circle-right"></i> Començar la prova</button>
                </div>
        </div>
        

        <div ng-if="$ctrl.estatProva==1 || $ctrl.estatProva==3">
        <div style=" border: 1px solid gray;  width: 100%">
                        <!--
                        <button style="float:left" class="btn btn-success" ng-click="$ctrl.corregirProva()"><i class="fa fa-check"></i> Corregeix la prova</button>    
                        -->        
                        <div class="progress">
                                <div class="progress-bar" role="progressbar" style="width: {{$ctrl.progressPercent}}%;" aria-valuenow="0" 
                                aria-valuemin="0" aria-valuemax="100">{{$ctrl.progressPercent}}%</div>
                        </div>
        </div> 
        <div style="border: 1px solid grey; margin-bottom: 10px; text-align: center; margin: auto">
                <!--
                <button style="float:left" class="btn btn-sm btn-secondary" ng-click="$ctrl.backEstimul()"
                ng-disabled="$ctrl.indexEstimul < 1"><i class="fa fa-backward"></i> Anterior</button>
                -->
                <span style="font-size: 120%"><b>Situació <span ng-bind="$ctrl.indexEstimul+1"></span></b></span>
                <!--
                <button style="float:right" class="btn btn-sm btn-secondary" ng-click="$ctrl.nextEstimul()"
                ng-disabled="$ctrl.indexEstimul > $ctrl.numEstimuls -1"> Següent <i class="fa fa-forward"></i></button>
                -->
        </div>
        <!--quan carreguis l'estimul, mostra la pregunta question d'aquest estimul -->
        <iaqse-estimul estimul="$ctrl.estimulSelected" question="$ctrl.preguntaSelected"></iaqse-estimul>
        
        <br><br>
        <!--botonera-->
        <button class="btn btn-secondary" ng-click="$ctrl.backPregunta()"
        ng-disabled="$ctrl.preguntaSelected.numero<=1"><i class="fa fa-chevron-left"></i> Pregunta anterior</button>
        <button class="btn btn-secondary" ng-click="$ctrl.nextPregunta()"
        ng-disabled="$ctrl.preguntaSelected.numero>$ctrl.numPreguntes-1">Pregunta següent <i class="fa fa-chevron-right"></i></button>
        <button class="btn btn-success" ng-click="$ctrl.corregirProva()"
        ng-if="$ctrl.preguntaSelected.numero==$ctrl.numPreguntes && $ctrl.estatProva==1"
        ng-disabled="$ctrl.progressPercent==0"><i class="fa fa-check"></i> Acabar i corregir</button>
       
        <!--nav-bar-->
        <!--
        <br><br>
        <div>
                <div ng-repeat="estimul in $ctrl.prova.estimuls" style="display: inline-block">
                        <div ng-repeat="pregunta in estimul.preguntes" style="display: inline-block; vertical-align: top">
                                <div style="text-align: center">
                                <button class="btn btn-sm" ng-class="$ctrl.styleClassPregunta(pregunta)" style="width: 36px"
                                ng-click="$ctrl.gotoPregunta($parent.$index, $index)">
                                        <span ng-bind="pregunta.numero"></span>        
                                </button>
                                <br>
                                <span ng-if="pregunta.numero == $ctrl.preguntaSelected.numero"><i class="fa fa-arrow-up"></i></span>
                                <span ng-if="pregunta.numero != $ctrl.preguntaSelected.numero"> </span>
                                </div>
                        </div>
                </div>
        </div>
        -->
        </div>  

        <!--Prova acabada-->
        <div ng-if="$ctrl.estatProva==2">
                <h5>Prova acabada - Puntuació <span ng-bind="$ctrl.puntuacio"></span>%</h5>
                <div>
                        <div ng-repeat="estimul in $ctrl.prova.estimuls" style="display: inline-block">
                                        <div ng-repeat="pregunta in estimul.preguntes" style="display: inline-block; vertical-align: top">
                                                <div style="margin:auto; text-align: center;">
                                                <button class="btn" ng-class="$ctrl.styleClassPregunta(pregunta)" style="width: 36px"
                                                ng-click="$ctrl.gotoPreguntaReview($parent.$index, $index)">
                                                        <span ng-bind="pregunta.numero"></span>        
                                                </button>
                                                <br>
                                                <span ng-if="pregunta.numero == $ctrl.preguntaSelected.numero"><i class="fa fa-arrow-up"></i></span>
                                                <span ng-if="pregunta.numero != $ctrl.preguntaSelected.numero"> </span>
                                                </div>
                                        </div>
                        </div>
                        <button ng-if="$ctrl.estimulReview!=null && $ctrl.preguntaReview!=null" style="float: right; margin-top: 60px"
                        class="btn btn-sm btn-danger" title="Tancau la previsualització" ng-click="$ctrl.estimulReview=null;"><i class="fa fa-times"></i></button> 
                        <div ng-if="$ctrl.estimulReview!=null && $ctrl.preguntaReview!=null">
                                <iaqse-estimul estimul="$ctrl.estimulReview" question="$ctrl.preguntaReview"></iaqse-estimul>
                        </div>
                </div>
                
                <button class="btn btn-primary" ng-click="$ctrl.reset()"><i class="fa fa-redo"></i> Tornau a començar</button> 
        </div>
</script>

<script type="text/ng-template" id="iaqse-estimul.html">
        <div class="row">
                <div class="col-md-6">
                        <div style="background: #f2dbda; margin:20px; border:1px solid gray; padding:20px;font-size:110%">
                                <center>
                                <h4 style="background: brown; font-weight:800; color:white; border-radius: 5px" ng-bind-html="$ctrl.estimul.estimul"></h4>
                                <div ng-bind-html="$ctrl.estimul.estimul_body"></div>
                                </center>
                        </div>      
                </div>
                <div class="col-md-6">
                        <br>
                        <iaqse-pregunta pregunta="$ctrl.preguntaSelected"></iaqse-pregunta>
                </div>
        </div>
</script>

<script type="text/ng-template" id="iaqse-pregunta.html">
        <h5>
                <span ng-if="$ctrl.pregunta.esCorrecta!=null">
                                        <span style="color:green" ng-if="$ctrl.pregunta.esCorrecta"><i class="fa fa-check"></i></span>
                                        <span style="color:red" ng-if="!$ctrl.pregunta.esCorrecta"><i class="fa fa-times"></i></span>
                </span>
                <span style="font-weight:800;"> Pregunta
        <span ng-bind="$ctrl.pregunta.numero"></span> / <span ng-bind="$ctrl.numPreguntes"></span>.</h5>
        <span style="font-size: 110%" ng-bind-html="$ctrl.pregunta.enunciat"></span> 
        <div class="form-check" ng-repeat="opt in $ctrl.pregunta.opcions" ng-if="$ctrl.pregunta.opcions!=null">
            <input class="form-check-input" type="radio" ng-model="$ctrl.pregunta.answer" ng-value="$index" ng-change="$ctrl.updateProgress()"
            ng-disabled="$ctrl.estatProva!=1"/>  
            <label class="form-check-label">
            <span style="font-size:110%">{{$index | toLetter}}
            <span ng-bind-html="opt"></span> 
            </span>     
            </label>
        </div>     
        <div ng-if="$ctrl.pregunta.opcions==null">
                <input class="form-control" type="text" ng-model="$ctrl.pregunta.answer" ng-blur="$ctrl.updateProgress()"
                ng-disabled="$ctrl.estatProva!=1"/>                  
        </div>                                               
</script></main>    
                
            <a href="#" id="back-to-top" class="btn btn-primary btn-lg" role="button"><i class="fa fa-chevron-circle-up" aria-hidden="true"></i></a>
<script src="iaqse_bundle2.min.js"></script>
<script src="../css/assets/katex/katex.min.js"></script>
<script src="../css/assets/katex/contrib/auto-render.min.js"></script>

<script>var replaceImgSvg=function(e,a){var g=$(e);g.length&&$.ajax({type:"GET",url:a,contentType:"image/svg+xml;charset=ISO-8859-1",success:function(e){var a=$(e.documentElement);a.addClass(g.attr("class")),g.replaceWith(a)}})};$(function(){$("#tree1").treed(),replaceImgSvg("#svg-brand","../img/svg/qiaqse2.svg"),$("#iaqse-brand").css("display",""),replaceImgSvg("#svg-logo-cab","../img/svg/iaqse-caib-w.svg"),replaceImgSvg("#logo-iaqse","../img/svg/logo-iaqse.svg")}),function(e,a,g,s,t,c,n){e.GoogleAnalyticsObject=t,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(g),n=a.getElementsByTagName(g)[0],c.async=1,c.src="//www.google-analytics.com/analytics.js",n.parentNode.insertBefore(c,n)}(window,document,"script",0,"ga"),ga("create","UA-40778701-3","auto"),ga("send","pageview")</script>
        </div> 
        <div style="font-size:small;background:#f5f5f5;color:gray;position:fixed;bottom:0;padding:5px;left:0;width:100%;height:25px;text-align:right">
            Webmaster: IAQSE - Version: 23-6-2020
        </div>
</body>

</html>